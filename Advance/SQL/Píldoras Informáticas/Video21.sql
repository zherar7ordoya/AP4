-- phpMyAdmin SQL Dump
-- version 5.1.0
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1:3306
-- Generation Time: Mar 30, 2022 at 11:14 PM
-- Server version: 8.0.23
-- PHP Version: 8.0.3

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `video14`
--

DELIMITER $$
--
-- Procedures
--
CREATE DEFINER=`root`@`localhost` PROCEDURE `ClientesSinPedidos` ()  SELECT clientes.CÓDIGOCLIENTE, POBLACIÓN, DIRECCIÓN, NÚMERODEPEDIDO, PEDIDOS.CÓDIGOCLIENTE, FORMADEPAGO
FROM clientes
LEFT JOIN pedidos
ON clientes.CÓDIGOCLIENTE=pedidos.CÓDIGOCLIENTE
WHERE POBLACIÓN="MADRID" AND pedidos.CÓDIGOCLIENTE IS NULL$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `FiltrarFilasUnicas` ()  SELECT DISTINCTROW * FROM productos WHERE SECCIÓN = 'FERRETERÍA'$$

CREATE DEFINER=`root`@`localhost` PROCEDURE `SinPedidos` ()  SELECT clientes.CÓDIGOCLIENTE, POBLACIÓN, DIRECCIÓN, NÚMERODEPEDIDO, PEDIDOS.CÓDIGOCLIENTE, FORMADEPAGO
FROM clientes
LEFT JOIN pedidos
ON clientes.CÓDIGOCLIENTE=pedidos.CÓDIGOCLIENTE
WHERE POBLACIÓN='MADRID' AND pedidos.CÓDIGOCLIENTE IS NULL$$

DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `clientes`
--

CREATE TABLE `clientes` (
  `CÓDIGOCLIENTE` varchar(4) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `EMPRESA` varchar(24) DEFAULT NULL,
  `DIRECCIÓN` varchar(19) DEFAULT NULL,
  `POBLACIÓN` varchar(9) DEFAULT NULL,
  `TELÉFONO` varchar(16) DEFAULT NULL,
  `RESPONSABLE` varchar(17) DEFAULT NULL,
  `HISTORIAL` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `clientes`
--

INSERT INTO `clientes` (`CÓDIGOCLIENTE`, `EMPRESA`, `DIRECCIÓN`, `POBLACIÓN`, `TELÉFONO`, `RESPONSABLE`, `HISTORIAL`) VALUES
('CT02', 'LA MODERNA', 'LA PALOMA 123', 'OVIEDO', '(985) 32- 34- 34', 'JUAN GARCÍA', ''),
('CT03', 'EL ESPAÑOLITO', 'MOTORES 34', 'BARCELONA', '(934) 56- 53- 43', 'ANA FERNÁNDEZ', ''),
('CT06', 'CONFECCIONES AMPARO', 'LOS MOROS 23', 'GIJÓN', '(985) 75- 43- 32', 'LUÍS ÁLVAREZ', ''),
('CT08', 'JUGUETERÍA SUÁREZ', 'PARIS 123', 'BARCELONA', '(933) 45- 78- 66', 'JUAN GARCÍA', ''),
('CT09', 'ALMACÉN POPULAR', 'LAS FUENTES 124', 'BILBAO', '(942) 34- 71- 27', 'JOSÉ ÁLVAREZ', ''),
('CT11', 'JUGUETES MARTÍNEZ', 'VIA LAYETANA 245', 'BARCELONA', '(936) 62- 85- 54', 'FRANCISCO CUEVAS', ''),
('CT12', 'FERNÁNDEZ SL', 'PASEO DEL MAR 45', 'SANTANDER', '(942) 04- 95- 86', 'ELISA COLLADO', ''),
('CT13', 'CONFECCIONES ARTÍMEZ', 'GENERAL PERÓN 45', 'A CORUÑA', '(981) 34- 52- 39', 'ESTEBAN PASCUAL', ''),
('CT15', 'EXCLUSIVAS FERNÁNDEZ', 'LLOBREGAT 250', 'BARCELONA', '(939) 55- 83- 65', 'LUISA FERNÁNDEZ', ''),
('CT16', 'DEPORTES MORÁN', 'AUTONOMÍA 45', 'LUGO', '(982) 98- 69- 44', 'JOSÉ MANZANO', ''),
('CT17', 'BAZAR FRANCISCO', 'CARMEN 45', 'ZAMORA', '(980) 49- 52- 88', 'CARLOS BELTRÁN', ''),
('CT18', 'JUGUETES LA SONRISA', 'LA BAÑEZA 67', 'LEÓN', '(987) 94- 53- 68', 'FAUSTINO PÉREZ', ''),
('CT20', 'LA CURTIDORA', 'OLIVARES 3', 'MÁLAGA', '(953) 75- 62- 59', 'MARÍA GÓMEZ', ''),
('CT21', 'LÍNEA JOVEN', 'SIERPES 78', 'SEVILLA', '(953) 45- 25- 67', 'ASUNCIÓN SALADO', ''),
('CT22', 'BAZAR EL BARAT', 'DIAGONAL 56', 'BARCELONA', '(936) 69- 28- 66', 'ELISA DAPENA', ''),
('CT24', 'SÁEZ Y CÍA', 'INFANTA MERCEDS 23', 'SEVILLA', '(954) 86- 92- 34', 'MANUEL GUERRA', ''),
('CT25', 'DEPORTES EL MADRILEÑO', 'CASTILLA 345', 'ZARAGOZA', '(976) 38- 89- 34', 'CARLOS GONZÁLEZ', ''),
('CT27', 'JUGUETES EL BARATO', 'VÍA AUGUSTA 245', 'BARCELONA', '(933) 48- 69- 84', 'ELVIRA IGLESIAS', ''),
('CT28', 'CONFECCIONES HERMINIA', 'CORRIDA 345', 'GIJÓN', '(985) 59- 73- 15', 'ABEL GONZÁLEZ', ''),
('CT31', 'LA TIENDA ELEGANTE', 'EL COMENDADOR 67', 'ZARAGOZA', '(975) 69- 40- 35', 'JOSÉ PASCUAL', ''),
('CT32', 'DEPORTES NAUTICOS GARCÍA', 'JUAN FERNÁNDEZ 89', 'ÁVILA', '(920) 26- 86- 48', 'JUAN CONRADO', ''),
('CT33', 'CONFECCIONES RUIZ', 'LLOBREGAT 345', 'BARCELONA', '(934) 58- 76- 15', 'CARLOS SANZ', ''),
('CT35', 'FERRETERÍA EL MARTILLO', 'CASTELLANOS 205', 'SALAMANCA', '(923) 54- 89- 65', 'JOAQUÍN FERNANDEZ', ''),
('CT37', 'ALMACENES FERNANDEZ', 'ANTÓN 67', 'TERUEL', '(978) 56- 40- 25', 'MARIA ARDANZA', ''),
('CT38', 'CONFECCIONES MÓNICA', 'MOTORES 67', 'BARCELONA', '(935) 68- 12- 45', 'PEDRO SERRANO', ''),
('CT40', 'DEPORTES EL BRASILEÑO', 'ABEL MARTÍNEZ 67', 'SALAMANCA', '(921) 54- 87- 62', 'CARLOS GÓMEZ', '');

-- --------------------------------------------------------

--
-- Table structure for table `clientes_madrid`
--

CREATE TABLE `clientes_madrid` (
  `CÓDIGOCLIENTE` varchar(4) CHARACTER SET utf8 COLLATE utf8_general_ci NOT NULL,
  `EMPRESA` varchar(24) DEFAULT NULL,
  `DIRECCIÓN` varchar(19) DEFAULT NULL,
  `POBLACIÓN` varchar(9) DEFAULT NULL,
  `TELÉFONO` varchar(16) DEFAULT NULL,
  `RESPONSABLE` varchar(17) DEFAULT NULL,
  `HISTORIAL` varchar(10) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `clientes_madrid`
--

INSERT INTO `clientes_madrid` (`CÓDIGOCLIENTE`, `EMPRESA`, `DIRECCIÓN`, `POBLACIÓN`, `TELÉFONO`, `RESPONSABLE`, `HISTORIAL`) VALUES
('CT01', 'BELTRÁN E HIJOS', 'LAS FUENTES 78', 'MADRID', '(914) 45- 64- 35', 'ANGEL MARTÍNEZ', ''),
('CT04', 'EXPORTASA', 'VALLECAS 34', 'MADRID', '(913) 45- 23- 78', 'ELVIRA GÓMEZ', ''),
('CT07', 'LA CASA DEL JUGUETE', 'AMÉRICA 45', 'MADRID', '(912) 64- 99- 87', 'ELÍAS PÉREZ', ''),
('CT10', 'FERETERÍA EL CLAVO', 'PASEO DE ÁLAMOS 78', 'MADRID', '(914) 35- 48- 66', 'MANUEL MENÉNDEZ', ''),
('CT14', 'DEPORTES GARCÍA', 'GUZMÁN EL BUENO 45', 'MADRID', '(913) 29- 94- 75', 'ANA JIMÉNEZ', ''),
('CT19', 'CONFECCIONES GALÁN', 'FUENCARRAL 78', 'MADRID', '(913) 85- 92- 34', 'JUAN GARCÍA', ''),
('CT23', 'EL PALACIO DE LA MODA', 'ORTEGA Y GASSET 129', 'MADRID', '(927) 78- 52- 35', 'LAURA CARRASCO', ''),
('CT26', 'FERRETERÍA LA ESCOBA', 'ORENSE 7', 'MADRID', '(918) 45- 93- 46', 'JOSÉ GARCÍA', ''),
('CT30', 'BAZAR EL ARGENTINO', 'ATOCHA 55', 'MADRID', '(912) 49- 59- 73', 'ADRIÁN ÁLVAREZ', ''),
('CT34', 'BAZAR LA FARAONA', 'CASTILLA Y LEÓN 34', 'MADRID', '(915) 48- 36- 27', 'ANGEL SANTAMARÍA', ''),
('CT36', 'JUGUETES EDUCATIVOS SANZ', 'ORENSE 89', 'MADRID', '(916) 87- 23- 54', 'PEDRO IGLESIAS', ''),
('CT39', 'FERRETERÍA LIMA', 'VALLECAS 45', 'MADRID', '(913) 53- 27- 85', 'LUIS GARCÍA', '');

-- --------------------------------------------------------

--
-- Table structure for table `pedidos`
--

CREATE TABLE `pedidos` (
  `NÚMERODEPEDIDO` smallint NOT NULL,
  `CÓDIGOCLIENTE` varchar(4) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `FECHADEPEDIDO` varchar(19) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `FORMADEPAGO` varchar(8) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `DESCUENTO` decimal(5,4) DEFAULT NULL,
  `ENVIADO` varchar(5) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `pedidos`
--

INSERT INTO `pedidos` (`NÚMERODEPEDIDO`, `CÓDIGOCLIENTE`, `FECHADEPEDIDO`, `FORMADEPAGO`, `DESCUENTO`, `ENVIADO`) VALUES
(1, 'CT01', '2000-03-11 00:00:00', 'CONTADO', '0.0200', 'True'),
(3, 'CT23', '2000-03-18 00:00:00', 'APLAZADO', '0.0600', 'False'),
(5, 'CT25', '2000-03-31 00:00:00', 'CONTADO', '0.0900', 'False'),
(7, 'CT12', '2000-04-12 00:00:00', 'CONTADO', '0.0700', 'False'),
(8, 'CT01', '2000-04-15 00:00:00', 'TARJETA', '0.0200', 'True'),
(9, 'CT21', '2000-04-21 00:00:00', 'CONTADO', '0.0400', 'False'),
(11, 'CT04', '2001-05-01 00:00:00', 'CONTADO', '0.0800', 'True'),
(12, 'CT06', '2001-05-19 00:00:00', 'CONTADO', '0.0900', 'True'),
(13, 'CT13', '2000-04-30 00:00:00', 'APLAZADO', '0.0300', 'False'),
(16, 'CT25', '2001-05-11 00:00:00', 'CONTADO', '0.1200', 'False'),
(19, 'CT10', '2002-05-22 00:00:00', 'CONTADO', '0.0700', 'True'),
(21, 'CT16', '2001-05-28 00:00:00', 'CONTADO', '0.0300', 'False'),
(22, 'CT07', '2000-05-31 00:00:00', 'TARJETA', '0.0500', 'True'),
(25, 'CT18', '2000-06-02 00:00:00', 'CONTADO', '0.0600', 'False'),
(26, 'CT09', '2001-06-04 00:00:00', 'APLAZADO', '0.0700', 'True'),
(27, 'CT34', '2000-06-06 00:00:00', 'CONTADO', '0.0400', 'False'),
(28, 'CT28', '2000-06-08 00:00:00', 'APLAZADO', '0.0800', 'False'),
(29, 'CT30', '2001-04-02 00:00:00', 'TARJETA', '0.0600', 'False'),
(30, 'CT02', '2000-08-15 00:00:00', 'CONTADO', '0.0600', 'True'),
(31, 'CT30', '2000-06-08 00:00:00', 'TARJETA', '0.0500', 'True'),
(32, 'CT14', '2001-06-20 00:00:00', 'APLAZADO', '0.0600', 'False'),
(34, 'CT26', '2002-06-23 00:00:00', 'TARJETA', '0.0500', 'False'),
(35, 'CT26', '2001-06-30 00:00:00', 'CONTADO', '0.0600', 'False'),
(37, 'CT24', '2001-07-02 00:00:00', 'TARJETA', '0.0300', 'True'),
(39, 'CT20', '2001-07-08 00:00:00', 'TARJETA', '0.0600', 'True'),
(40, 'CT04', '2002-07-12 00:00:00', 'CONTADO', '0.1200', 'False'),
(42, 'CT34', '2002-07-15 00:00:00', 'APLAZADO', '0.0700', 'True'),
(43, 'CT09', '2001-07-18 00:00:00', 'CONTADO', '0.0700', 'False'),
(44, 'CT34', '2002-07-20 00:00:00', 'APLAZADO', '0.0400', 'False'),
(45, 'CT30', '2002-07-22 00:00:00', 'TARJETA', '0.0700', 'False'),
(46, 'CT31', '2002-07-25 00:00:00', 'CONTADO', '0.0600', 'False'),
(47, 'CT34', '2000-07-31 00:00:00', 'APLAZADO', '0.0800', 'False'),
(48, 'CT18', '2002-08-30 00:00:00', 'CONTADO', '0.0300', 'False'),
(49, 'CT28', '2002-09-02 00:00:00', 'CONTADO', '0.0300', 'False'),
(50, 'CT09', '2002-09-05 00:00:00', 'APLAZADO', '0.0800', 'False'),
(51, 'CT09', '2002-09-05 00:00:00', 'CONTADO', '0.0500', 'True'),
(63, 'CT28', '2000-09-10 00:00:00', 'CONTADO', '0.0900', 'False'),
(72, 'CT01', '2002-08-18 00:00:00', 'CONTADO', '0.0500', 'True'),
(73, 'CT01', '2001-08-02 00:00:00', 'CONTADO', '0.0700', 'False'),
(74, 'CT01', '2002-09-17 00:00:00', 'APLAZADO', '0.0800', 'False'),
(75, 'CT01', '2002-09-30 00:00:00', 'TARJETA', '0.1200', 'False'),
(76, 'CT01', '2002-10-19 00:00:00', 'CONTADO', '0.0400', 'True'),
(77, 'CT01', '2000-10-28 00:00:00', 'CONTADO', '0.0500', 'False'),
(79, 'CT34', '2000-12-12 00:00:00', 'CONTADO', '0.0500', 'False'),
(85, 'CT04', '2002-12-23 00:00:00', 'TARJETA', '0.0400', 'False'),
(86, 'CT09', '2001-12-24 00:00:00', 'APLAZADO', '0.0300', 'False'),
(98, 'CT01', '2001-12-27 00:00:00', 'CONTADO', '0.0800', 'True'),
(102, 'CT06', '2001-01-12 00:00:00', 'CONTADO', '0.0700', 'True'),
(103, 'CT02', '2001-01-24 00:00:00', 'CONTADO', '0.0400', 'False'),
(105, 'CT30', '2001-01-01 00:00:00', 'APLAZADO', '0.0900', 'False'),
(5005, 'CT30', '2002-08-10 00:00:00', 'TARJETA', '0.0000', 'True'),
(5050, 'CT30', '2002-03-27 00:00:00', 'TARJETA', '0.0000', 'True');

-- --------------------------------------------------------

--
-- Table structure for table `productos`
--

CREATE TABLE `productos` (
  `CODIGOARTICULO` varchar(4) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `SECCION` varchar(10) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `NOMBREARTICULO` varchar(19) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `PRECIO` decimal(10,4) DEFAULT NULL,
  `FECHA` varchar(19) DEFAULT NULL,
  `IMPORTADO` varchar(5) DEFAULT NULL,
  `PAISDEORIGEN` varchar(9) CHARACTER SET utf8mb4 COLLATE utf8mb4_0900_ai_ci DEFAULT NULL,
  `FOTO` varchar(0) DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci;

--
-- Dumping data for table `productos`
--

INSERT INTO `productos` (`CODIGOARTICULO`, `SECCION`, `NOMBREARTICULO`, `PRECIO`, `FECHA`, `IMPORTADO`, `PAISDEORIGEN`, `FOTO`) VALUES
('AR01', 'FERRETERÍA', 'DESTORNILLADOR', '6.6280', '2000-10-22 00:00:00', 'False', 'ESPAÑA', ''),
('AR02', 'CONFECCIÓN', 'TRAJE CABALLERO', '284.5769', '2002-03-11 00:00:00', 'True', 'ITALIA', ''),
('AR03', 'JUGUETERÍA', 'COCHE TELEDIRIGIDO', '159.4462', '2002-05-26 00:00:00', 'True', 'MARRUECOS', ''),
('AR04', 'DEPORTES', 'RAQUETA TENIS', '93.4694', '2000-03-20 00:00:00', 'True', 'USA', ''),
('AR06', 'DEPORTES', 'MANCUERNAS', '60.0000', '2000-09-13 00:00:00', 'True', 'USA', ''),
('AR07', 'CONFECCIÓN', 'SERRUCHO', '50.2045', '2001-03-23 00:00:00', 'True', 'FRANCIA', ''),
('AR08', 'JUGUETERÍA', 'CORREPASILLOS', '103.3356', '2000-04-11 00:00:00', 'True', 'JAPÓN', ''),
('AR09', 'CONFECCIÓN', 'PANTALÓN SEÑORA', '174.2310', '2000-01-10 00:00:00', 'True', 'MARRUECOS', ''),
('AR10', 'JUGUETERÍA', 'CONSOLA VIDEO', '442.5444', '2002-09-24 00:00:00', 'True', 'USA', ''),
('AR11', 'CERÁMICA', 'TUBOS', '168.4253', '2000-02-04 00:00:00', 'True', 'CHINA', ''),
('AR12', 'FERRETERÍA', 'LLAVE INGLESA', '24.3986', '2001-05-23 00:00:00', 'True', 'USA', ''),
('AR13', 'CONFECCIÓN', 'CAMISA CABALLERO', '67.1306', '2002-08-11 00:00:00', 'False', 'ESPAÑA', ''),
('AR14', 'JUGUETERÍA', 'TREN ELÉCTRICO', '1505.3766', '2001-07-03 00:00:00', 'True', 'JAPÓN', ''),
('AR15', 'CERÁMICA', 'PLATO DECORATIVO', '54.0911', '2000-06-07 00:00:00', 'True', 'CHINA', ''),
('AR16', 'FERRETERÍA', 'ALICATES', '6.7362', '2000-04-17 00:00:00', 'True', 'ITALIA', ''),
('AR17', 'JUGUETERÍA', 'MUÑECA ANDADORA', '105.0593', '2001-01-04 00:00:00', 'False', 'ESPAÑA', ''),
('AR18', 'DEPORTES', 'PISTOLA OLÍMPICA', '46.7347', '2001-02-02 00:00:00', 'True', 'SUECIA', ''),
('AR19', 'CONFECCIÓN', 'BLUSA SRA.', '101.0566', '2000-03-18 00:00:00', 'True', 'CHINA', ''),
('AR20', 'CERÁMICA', 'JUEGO DE TE', '43.2728', '2001-01-15 00:00:00', 'True', 'CHINA', ''),
('AR21', 'CERÁMICA', 'CENICERO', '19.7468', '2001-07-02 00:00:00', 'True', 'JAPÓN', ''),
('AR22', 'FERRETERÍA', 'MARTILLO', '11.3952', '2001-09-04 00:00:00', 'False', 'ESPAÑA', ''),
('AR23', 'CONFECCIÓN', 'CAZADORA PIEL', '522.6930', '2001-07-10 00:00:00', 'True', 'ITALIA', ''),
('AR24', 'DEPORTES', 'BALÓN RUGBY', '111.6440', '2000-11-11 00:00:00', 'True', 'USA', ''),
('AR25', 'DEPORTES', 'BALÓN BALONCESTO', '75.2731', '2001-06-25 00:00:00', 'True', 'JAPÓN', ''),
('AR26', 'JUGUETERÍA', 'FUERTE DE SOLDADOS', '143.7020', '2000-11-25 00:00:00', 'True', 'JAPÓN', ''),
('AR27', 'CONFECCIÓN', 'ABRIGO CABALLERO', '500000.0000', '2002-04-05 00:00:00', 'True', 'ITALIA', ''),
('AR28', 'DEPORTES', 'BALÓN FÚTBOL', '43.9147', '2002-07-04 00:00:00', 'False', 'ESPAÑA', ''),
('AR29', 'CONFECCIÓN', 'ABRIGO SRA', '360.0736', '2001-05-03 00:00:00', 'True', 'MARRUECOS', ''),
('AR30', 'FERRETERÍA', 'DESTORNILLADOR', '9.0584', '2002-02-20 00:00:00', 'True', 'FRANCIA', ''),
('AR31', 'JUGUETERÍA', 'PISTOLA CON SONIDOS', '57.2500', '2001-04-15 00:00:00', 'False', 'ESPAÑA', ''),
('AR32', 'DEPORTES', 'CRONÓMETRO', '439.1764', '2002-01-03 00:00:00', 'True', 'USA', ''),
('AR33', 'CERÁMICA', 'MACETA', '29.0434', '2000-02-23 00:00:00', 'False', 'ESPAÑA', ''),
('AR34', 'OFICINA', 'PIE DE LÁMPARA', '39.7606', '2001-05-27 00:00:00', 'True', 'TURQUÍA', ''),
('AR35', 'FERRETERÍA', 'LIMA GRANDE', '22.0692', '2002-08-10 00:00:00', 'False', 'ESPAÑA', ''),
('AR36', 'FERRETERÍA', 'JUEGO DE BROCAS', '15.0950', '2002-07-04 00:00:00', 'True', 'TAIWÁN', ''),
('AR37', 'CONFECCIÓN', 'CINTURÓN DE PIEL', '4.3273', '2002-05-12 00:00:00', 'False', 'ESPAÑA', ''),
('AR38', 'DEPORTES', 'CAÑA DE PESCA', '270.0000', '2000-02-14 00:00:00', 'True', 'USA', ''),
('AR39', 'CERÁMICA', 'JARRA CHINA', '127.7704', '2002-09-02 00:00:00', 'True', 'CHINA', ''),
('AR40', 'DEPORTES', 'BOTA ALPINISMO', '144.0000', '2002-05-05 00:00:00', 'False', 'ESPAÑA', ''),
('AR41', 'DEPORTES', 'PALAS DE PING PONG', '21.6000', '2002-02-02 00:00:00', 'False', 'ESPAÑA', ''),
('AR01', 'FERRETERÍA', 'DESTORNILLADOR', '6.6280', '2000-10-22 00:00:00', 'False', 'ESPAÑA', ''),
('AR75', NULL, 'PANTALON', '58.0000', NULL, NULL, 'ESPAÑA', NULL);

--
-- Triggers `productos`
--
DELIMITER $$
CREATE TRIGGER `ACTUALIZA_PRODUCTOS_BU` BEFORE UPDATE ON `productos` FOR EACH ROW INSERT INTO PRODUCTOS_ACTUALIZADOS(
    ANTERIOR_CODIGOARTICULO,
    ANTERIOR_NOMBREARTICULO,
    ANTERIOR_SECCION,
    ANTERIOR_PRECIO,
    ANTERIOR_IMPORTADO,
    ANTERIOR_PAISDEORIGEN,
    ANTERIOR_FECHA,
    NUEVO_CODIGOARTICULO,
    NUEVO_NOMBREARTICULO,
    NUEVO_SECCION,
    NUEVO_PRECIO,
    NUEVO_IMPORTADO,
    NUEVO_PAISDEORIGEN,
    NUEVO_FECHA,
    USUARIO,
    F_MODIF
)
VALUES(
    OLD.CODIGOARTICULO,
    OLD.NOMBREARTICULO,
    OLD.SECCION,
    OLD.PRECIO,
    OLD.IMPORTADO,
    OLD.PAISDEORIGEN,
    OLD.FECHA,
    NEW.CODIGOARTICULO,
    NEW.NOMBREARTICULO,
    NEW.SECCION,
    NEW.PRECIO,
    NEW.IMPORTADO,
    NEW.PAISDEORIGEN,
    NEW.FECHA,
    CURRENT_USER(), NOW())
$$
DELIMITER ;
DELIMITER $$
CREATE TRIGGER `PRODUCTOS_AI` AFTER INSERT ON `productos` FOR EACH ROW INSERT INTO REG_PRODUCTOS(
    CODIGOARTICULO,
    NOMBREARTICULO,
    PRECIO,
    INSERTADO
)
VALUES(
    NEW.CODIGOARTICULO,
    NEW.NOMBREARTICULO,
    NEW.PRECIO,
    NOW())
$$
DELIMITER ;

-- --------------------------------------------------------

--
-- Table structure for table `productos_actualizados`
--

CREATE TABLE `productos_actualizados` (
  `ANTERIOR_CODIGOARTICULO` varchar(4) DEFAULT NULL,
  `ANTERIOR_NOMBREARTICULO` varchar(25) DEFAULT NULL,
  `ANTERIOR_SECCION` varchar(15) DEFAULT NULL,
  `ANTERIOR_PRECIO` int DEFAULT NULL,
  `ANTERIOR_IMPORTADO` varchar(15) DEFAULT NULL,
  `ANTERIOR_PAISDEORIGEN` varchar(15) DEFAULT NULL,
  `ANTERIOR_FECHA` date DEFAULT NULL,
  `NUEVO_CODIGOARTICULO` varchar(4) DEFAULT NULL,
  `NUEVO_NOMBREARTICULO` varchar(25) DEFAULT NULL,
  `NUEVO_SECCION` varchar(15) DEFAULT NULL,
  `NUEVO_PRECIO` int DEFAULT NULL,
  `NUEVO_IMPORTADO` varchar(15) DEFAULT NULL,
  `NUEVO_PAISDEORIGEN` varchar(15) DEFAULT NULL,
  `NUEVO_FECHA` date DEFAULT NULL,
  `USUARIO` varchar(15) DEFAULT NULL,
  `F_MODIF` date DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `productos_actualizados`
--

INSERT INTO `productos_actualizados` (`ANTERIOR_CODIGOARTICULO`, `ANTERIOR_NOMBREARTICULO`, `ANTERIOR_SECCION`, `ANTERIOR_PRECIO`, `ANTERIOR_IMPORTADO`, `ANTERIOR_PAISDEORIGEN`, `ANTERIOR_FECHA`, `NUEVO_CODIGOARTICULO`, `NUEVO_NOMBREARTICULO`, `NUEVO_SECCION`, `NUEVO_PRECIO`, `NUEVO_IMPORTADO`, `NUEVO_PAISDEORIGEN`, `NUEVO_FECHA`, `USUARIO`, `F_MODIF`) VALUES
('AR07', 'SERRUCHO', 'CONFECCIÓN', 30, 'True', 'FRANCIA', '2001-03-23', 'AR07', 'SERRUCHO', 'CONFECCIÓN', 50, 'True', 'FRANCIA', '2001-03-23', 'root@localhost', '2022-03-30');

-- --------------------------------------------------------

--
-- Table structure for table `prueba`
--

CREATE TABLE `prueba` (
  `NOMBRE` varchar(20) DEFAULT NULL,
  `APELLIDO` varchar(20) DEFAULT NULL,
  `EDAD` tinyint DEFAULT NULL,
  `FECHANACIMIENTO` date DEFAULT NULL,
  `CARNET` tinyint(1) DEFAULT NULL,
  `LUGAR_NACIMIENTO` varchar(20)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

-- --------------------------------------------------------

--
-- Table structure for table `reg_productos`
--

CREATE TABLE `reg_productos` (
  `CODIGOARTICULO` varchar(25) DEFAULT NULL,
  `NOMBREARTICULO` varchar(30) DEFAULT NULL,
  `PRECIO` int DEFAULT NULL,
  `INSERTADO` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

--
-- Dumping data for table `reg_productos`
--

INSERT INTO `reg_productos` (`CODIGOARTICULO`, `NOMBREARTICULO`, `PRECIO`, `INSERTADO`) VALUES
('AR75', 'PANTALON', 58, '2022-03-30 18:21:35');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `clientes`
--
ALTER TABLE `clientes`
  ADD PRIMARY KEY (`CÓDIGOCLIENTE`);

--
-- Indexes for table `pedidos`
--
ALTER TABLE `pedidos`
  ADD PRIMARY KEY (`NÚMERODEPEDIDO`),
  ADD KEY `CÓDIGO CLIENTE` (`CÓDIGOCLIENTE`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
